{"version":3,"sources":["Fbase.js","Routes/LoginPage.js","Component/StudentNav.js","Component/CodeTitle.js","Component/CodeView.js","Routes/Home.js","Component/AppRouter.js","Component/App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","authService","auth","dbService","database","LoginPage","useState","user_id","setuser_id","password","setpassword","user_name","setuser_name","user_job","setuser_job","create_account_mode","setcreate_account_mode","error_message","seterror_message","onChange","event","target","name","value","SendUserDataToDb","user_data","ref","update","onSubmit","a","preventDefault","createUserWithEmailAndPassword","signInWithEmailAndPassword","message","console","log","onChangeRadio","className","placeholder","type","required","htmlFor","id","onClick","StudentNav","student","clicked_id","onClickStudent","style","backgroundColor","color","CodeTitle","title","date","clicked_title","onClickTitle","title_date","background","map","data","CodeView","line","Home","users","codes","sorted_users_idArr","setsorted_users_idArr","sorted_codes_titleArr","setsorted_codes_titleArr","select_student_code_titleArr","setselect_student_code_titleArr","select_code","setselect_code","select_code_title_and_date","setselect_code_title_and_date","current_user_name","set_current_user_name","clicked_name_button","setclicked_name_button","clicked_student_id","setclicked_student_id","setclicked_title","useEffect","GetUsersAndCodes","SortUserId","SortCodeTitle","Object","keys","sort","b","title_id","current_user_id","currentUser","email","split","SortProcess","job","sorted_users_id_nameArr","filter","id_name","push","user_codeArr","code","title_and_date","signOut","length","AppRouter","isLogined","exact","path","component","App","setisLogined","isLoaded","setisLoaded","db_userObj","setdb_userObj","db_codeObj","setdb_codeObj","onAuthStateChanged","user","GetUserData","GetCodeData","get","then","snapshot","exists","val","catch","error","child","orderByChild","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.14b7a719.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBc9559594cbGbQYY57xRTe128rYDyzpRs\",\r\n  authDomain: \"web-project-c3c1a.firebaseapp.com\",\r\n  databaseURL:\r\n    \"https://web-project-c3c1a-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n  projectId: \"web-project-c3c1a\",\r\n  storageBucket: \"web-project-c3c1a.appspot.com\",\r\n  messagingSenderId: \"271084988333\",\r\n  appId: \"1:271084988333:web:9cd56e8f8d16f9c6a6e324\",\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const authService = firebase.auth();\r\nexport const dbService = firebase.database();\r\n","import { authService } from \"../Fbase\";\r\nimport { useState } from \"react\";\r\nimport { dbService } from \"../Fbase\";\r\nimport \"./LoginPage.css\";\r\n\r\nfunction LoginPage() {\r\n  const [user_id, setuser_id] = useState(\"\");\r\n  const [password, setpassword] = useState(\"\");\r\n  const [user_name, setuser_name] = useState(\"\");\r\n  const [user_job, setuser_job] = useState(\"S\");\r\n  const [create_account_mode, setcreate_account_mode] = useState(false);\r\n  const [error_message, seterror_message] = useState(\"\");\r\n  \r\n  const onChange = (event) => {\r\n    const { name, value } = event.target;\r\n    if (name === \"email\") {\r\n      setuser_id(value);\r\n    } else if (name === \"password\") {\r\n      setpassword(value);\r\n    } else {\r\n      setuser_name(value);\r\n    }\r\n  };\r\n\r\n  const SendUserDataToDb =  () => {\r\n    const user_data = {\r\n        \"job\": user_job,\r\n        \"name\": user_name,\r\n    };\r\n    dbService.ref(\"user/\"+ user_id).update(user_data);\r\n  };\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      if (create_account_mode) {\r\n        await authService.createUserWithEmailAndPassword(user_id + \"@gmail.com\", password); \r\n        SendUserDataToDb();\r\n      } else {\r\n        await authService.signInWithEmailAndPassword(user_id+\"@gmail.com\", password);\r\n      }\r\n    } catch (error) {\r\n      seterror_message(error.message);\r\n      console.log(error)\r\n    }\r\n  };\r\n  const onChangeRadio = (event) => {\r\n    const { value } = event.target;\r\n    setuser_job(value);\r\n  };\r\n  const onClickCreateButton = () => {\r\n    setcreate_account_mode(!create_account_mode);\r\n    setuser_id(\"\")\r\n    setpassword(\"\")\r\n    setuser_name(\"\")\r\n    seterror_message(\"\");\r\n  };\r\n  \r\n  return (\r\n    <div className=\"login-page\">\r\n      <header className=\"main-title\">\r\n        <h1>Code Viewer</h1>\r\n      </header>\r\n      <form onSubmit={onSubmit} aria-label=\"login form\" className=\"login\">\r\n        <div className=\"auth-input\">\r\n          <input\r\n            name=\"email\"\r\n            value={user_id}\r\n            placeholder=\"ID\"\r\n            type=\"text\"\r\n            required\r\n            onChange={onChange}\r\n          />\r\n          <input\r\n            name=\"password\"\r\n            value={password}\r\n            placeholder=\"Passward\"\r\n            type=\"password\"\r\n            required\r\n            onChange={onChange}\r\n          />\r\n          {create_account_mode === true && (\r\n            <input\r\n              name=\"user_name\"\r\n              value={user_name}\r\n              placeholder=\"Name\"\r\n              type=\"text\"\r\n              required\r\n              onChange={onChange}\r\n            />\r\n          )}\r\n          {create_account_mode === true && (\r\n            <div className=\"radio-job\">\r\n              <label htmlFor=\"radio-s\" className=\"radio-label\" >\r\n                Student\r\n              </label>\r\n              <input\r\n                id=\"radio-s\"\r\n                type=\"radio\"\r\n                name=\"job\"\r\n                value=\"S\"\r\n                onChange={onChangeRadio}\r\n              />\r\n              <label htmlFor=\"radio-i\" className=\"radio-label\">\r\n                Instructor\r\n              </label>\r\n              <input\r\n                id=\"radio-i\"\r\n                type=\"radio\"\r\n                name=\"job\"\r\n                value=\"I\"\r\n                onChange={onChangeRadio}\r\n              />\r\n            </div>\r\n          )}\r\n          {create_account_mode === true && (\r\n            <input type=\"submit\" value=\"Create\" className=\"create-button\" />\r\n          )}\r\n        </div>\r\n        {create_account_mode === false && (\r\n          <input type=\"submit\" value=\"Login\" className=\"login-button\" />\r\n        )}\r\n      </form>\r\n      <strong aria-label=\"error message\">{error_message}</strong>\r\n      <button\r\n        type=\"button\"\r\n        className=\"create-account-button\"\r\n        onClick={onClickCreateButton}\r\n      >\r\n        {create_account_mode ? \"Login page\" : \"Create account\"}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginPage;\r\n","function StudentNav({ id, student, clicked_id, onClickStudent }) {\r\n  return (\r\n    <div className=\"nav-name\">\r\n      <ul>\r\n        <li>\r\n          <button\r\n            type=\"button\"\r\n            value={id}\r\n            onClick={onClickStudent}\r\n            style={{\r\n              backgroundColor:\r\n                id === clicked_id ? \"white\" : \"#283b5b\",\r\n              color : id === clicked_id ? \"#283b5b\" : \"#7c95c3\",\r\n            }}\r\n          >\r\n            {student}{\" \"}\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StudentNav;\r\n","function CodeTitle({ title, date, clicked_title, onClickTitle }) {\r\n  const title_date = [title, date]\r\n  return (\r\n    <li style = {{background: clicked_title === title ? \"rgb(183,186,175)\" : \"#363d49\"}}>\r\n      {title_date.map(data => \r\n        <button\r\n        type=\"button\"\r\n        value={title}\r\n        onClick={onClickTitle}\r\n        style={{\r\n          background: clicked_title === title ? \"rgb(183,186,175)\" : \"#363d49\",\r\n          color : clicked_title === title ? \"#363d49\":\"#d5d9e2\",\r\n        }}\r\n      >\r\n        {data}\r\n      </button>)}\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default CodeTitle;\r\n","function CodeView({ line }) {\r\n  return (\r\n    <pre>\r\n      {line}\r\n      <br />\r\n    </pre>\r\n  );\r\n}\r\n\r\nexport default CodeView;\r\n","import { useEffect, useState } from \"react\";\r\nimport { authService } from \"../Fbase\";\r\nimport StudentNav from \"../Component/StudentNav\";\r\nimport CodeTitle from \"../Component/CodeTitle\";\r\nimport CodeView from \"../Component/CodeView\";\r\nimport \"./Home.css\";\r\n\r\nfunction Home({ users, codes }) {\r\n  const [sorted_users_idArr, setsorted_users_idArr] = useState([]);\r\n  const [sorted_codes_titleArr, setsorted_codes_titleArr] = useState([]);\r\n  const [select_student_code_titleArr, setselect_student_code_titleArr] = useState([]);\r\n  const [select_code, setselect_code] = useState(\"\");\r\n  const [select_code_title_and_date, setselect_code_title_and_date] = useState(\"\");\r\n  const [current_user_name, set_current_user_name] = useState(\"\");\r\n  const [clicked_name_button, setclicked_name_button] = useState(false);\r\n  const [clicked_student_id, setclicked_student_id] = useState(\"\");\r\n  const [clicked_title, setclicked_title] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    GetUsersAndCodes();\r\n  }, []);\r\n\r\n  const GetUsersAndCodes = () => {\r\n    if (users) {\r\n      SortUserId();\r\n    }\r\n\r\n    if (codes) {\r\n      SortCodeTitle();\r\n    }\r\n  };\r\n\r\n  const SortCodeTitle = () => {\r\n    const db_codes_titleArr = Object.keys(codes);\r\n    const code_title_idArr = db_codes_titleArr.map((title) => {\r\n      return [title, codes[title][\"id\"]];\r\n    });\r\n    const sorted_codes_title_idArr = code_title_idArr.sort(function (a, b) {\r\n      return a[1] < b[1] ? 1 : -1;\r\n    });\r\n    const sorted_codes_titleArr = sorted_codes_title_idArr.map((title_id) => {\r\n      return title_id[0];\r\n    });\r\n    setsorted_codes_titleArr(sorted_codes_titleArr);\r\n  };\r\n\r\n  const SortUserId = () => {\r\n    const current_user_email = authService.currentUser.email;\r\n    const current_user_id = current_user_email.split(\"@\")[0];\r\n    const user_job = users[current_user_id][\"job\"];\r\n\r\n    if (user_job === \"I\") {\r\n      SortProcess(\"S\", current_user_id);\r\n    } else {\r\n      SortProcess(\"I\", current_user_id);\r\n    }\r\n  };\r\n\r\n  const SortProcess = (job, current_user_id) => {\r\n    const db_users_idArr = Object.keys(users);\r\n\r\n    const users_idArr = db_users_idArr.filter((id) => {\r\n      return users[id][\"job\"] === job;\r\n    });\r\n    const users_id_nameArr = users_idArr.map((id) => {\r\n      return [id, users[id][\"name\"]];\r\n    });\r\n    const sorted_users_id_nameArr = users_id_nameArr.sort(function (a, b) {\r\n      return a[1] < b[1] ? -1 : 1;\r\n    });\r\n    const sorted_users_idArr = [current_user_id];\r\n    sorted_users_id_nameArr.map((id_name) => {\r\n      sorted_users_idArr.push(id_name[0]);\r\n      return 0;\r\n    });\r\n\r\n    setsorted_users_idArr(sorted_users_idArr);\r\n    set_current_user_name(users[current_user_id][\"name\"]);\r\n  };\r\n\r\n  const onClickNameButton = () => {\r\n    setclicked_name_button(!clicked_name_button);\r\n  };\r\n  const onClickStudent = (event) => {\r\n    const { value } = event.target;\r\n    const user_codeArr = sorted_codes_titleArr.filter((title) => {\r\n      return codes[title][\"user_id\"] === value;\r\n    });\r\n    setselect_code(\"\");\r\n    setselect_code_title_and_date(\"\");\r\n    setclicked_student_id(value);\r\n    setclicked_title(\"\")\r\n    setselect_student_code_titleArr(user_codeArr);\r\n  };\r\n  const onClickTitle = (event) => {\r\n    const { value } = event.target;\r\n    const code = codes[value][\"text\"];\r\n    const title_and_date = [value, codes[value][\"date\"]];\r\n    setclicked_title(value);\r\n    setselect_code(code);\r\n    setselect_code_title_and_date(title_and_date);\r\n  };\r\n  const onClickLogOut = () => {\r\n    authService.signOut();\r\n  };\r\n\r\n  return (\r\n    <div className=\"home-page\">\r\n      <header className=\"head-title\">\r\n        <h1>Code Viewer</h1>\r\n        <button\r\n          className=\"name-button\"\r\n          type=\"button\"\r\n          onClick={onClickNameButton}\r\n        >\r\n          {current_user_name}\r\n        </button>\r\n        {clicked_name_button && (\r\n          <div className=\"logout-container\">\r\n            <button className=\"logout-button\" onClick={onClickLogOut}>\r\n              LogOut\r\n            </button>\r\n          </div>\r\n        )}\r\n      </header>\r\n      <div className=\"under-container\">\r\n        <nav className=\"nav-container\">\r\n          {sorted_users_idArr.length !== 0 ? (\r\n            sorted_users_idArr.map((user_id) => (\r\n              <StudentNav\r\n                id={user_id}\r\n                student={users[user_id][\"name\"]}\r\n                clicked_id={clicked_student_id}\r\n                onClickStudent={onClickStudent}\r\n              />\r\n            ))\r\n          ) : (\r\n            <strong>No Student</strong>\r\n          )}\r\n        </nav>\r\n        <aside className=\"aside-container\">\r\n          <ul>\r\n            {select_student_code_titleArr.length !== 0 ? (\r\n              select_student_code_titleArr.map((title) => (\r\n                <CodeTitle\r\n                  title={title}\r\n                  date={codes[title][\"date\"]}\r\n                  clicked_title = {clicked_title}\r\n                  onClickTitle={onClickTitle}\r\n                />\r\n              ))\r\n            ) : (\r\n              <li className=\"no-code\">No Code</li>\r\n            )}\r\n          </ul>\r\n        </aside>\r\n        <main className=\"main-container\">\r\n          <strong className=\"view-title\">\r\n            <h1>{select_code_title_and_date[0]}</h1>\r\n            <h2>{select_code_title_and_date[1]}</h2>\r\n          </strong>\r\n          <div className=\"code-view\">\r\n            {select_code.split(\"\\n\").map((line) => (\r\n              <CodeView line={line} />\r\n            ))}\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import { HashRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport LoginPage from \"../Routes/LoginPage\";\r\nimport Home from \"../Routes/Home\";\r\n\r\nfunction AppRouter({ isLogined, users, codes }) {\r\n  \r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        {isLogined ? <Route exact path=\"/\" ><Home users = {users} codes = {codes} /></Route>: <Route exact path=\"/\" component={LoginPage} />}\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default AppRouter;\r\n","import { authService, dbService } from \"../Fbase\";\nimport { useEffect, useState } from \"react\";\nimport AppRouter from \"./AppRouter\";\n\nfunction App() {\n  const [isLogined, setisLogined] = useState(false);\n  const [isLoaded, setisLoaded] = useState(false);\n  const [db_userObj, setdb_userObj] = useState(null);\n  const [db_codeObj, setdb_codeObj] = useState(null);\n\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) {\n        setisLoaded(false);\n        setisLogined(true);\n      } else {\n        setisLoaded(true);\n        setisLogined(false);\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    if (isLogined) {\n      GetUserData();\n      GetCodeData();\n    }\n  }, [isLogined]);\n\n  const GetUserData = () => {\n    dbService\n      .ref(\"user\")\n      .get()\n      .then((snapshot) => {\n        if (snapshot.exists()) {\n          setdb_userObj(snapshot.val());\n        } else {\n          console.log(\"No data available\");\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  const GetCodeData = () => {\n    dbService\n      .ref(\"/\")\n      .child(\"code\")\n      .orderByChild(\"id\")\n      .get()\n      .then((snapshot) => {\n        if (snapshot.exists()) {\n          setdb_codeObj(snapshot.val());\n        } else {\n          console.log(\"No data available\");\n        }\n        setisLoaded(true);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  return (\n    <div>\n      {isLoaded ? (\n        <AppRouter\n          isLogined={isLogined}\n          users={db_userObj}\n          codes={db_codeObj}\n        />\n      ) : (\n        <h1>Loding</h1>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from \"./Component/App.js\"\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}